{"version":3,"sources":["webpack:///webpack/bootstrap ce711129739a040dc0df","webpack:///delegated ./node_modules/inferno-compat/index.js from dll-reference vendor_library","webpack:///external \"vendor_library\"","webpack:///./src/toolPages/process.js","webpack:///./~/debug/src/browser.js","webpack:///delegated ./node_modules/path-browserify/index.js from dll-reference vendor_library","webpack:///./src/render/rc-tree/util.js","webpack:///delegated ./node_modules/object-assign/index.js from dll-reference vendor_library","webpack:///delegated ./node_modules/classnames/index.js from dll-reference vendor_library","webpack:///./src/toolPages/explorer.js","webpack:///./src/render/rc-tree/Tree.js","webpack:///./src/render/rc-tree/TreeNode.js","webpack:///./src/render/rc-tree/index.js","webpack:///./src/render/react-selection/index.js","webpack:///./src/render/react-selection/limit-range.js","webpack:///./src/render/react-selection/toggle-class.js","webpack:///./src/toolPages/explorerSidebar.js","webpack:///./~/debug/~/ms/index.js","webpack:///./~/debug/src/debug.js","webpack:///delegated ./node_modules/node-uuid/uuid.js from dll-reference vendor_library","webpack:///delegated ./node_modules/react-sticky/lib/index.js from dll-reference vendor_library","webpack:///delegated ./node_modules/semantic-ui-react/dist/es/index.js from dll-reference vendor_library","webpack:///external \"chrome\""],"names":["window","process","env","NODE_ENV","cwd","location","pathname","match","browser","getOffset","loopAllChildren","isInclude","filterParentPosition","handleCheckState","getCheck","getStrictlyValue","arraysEqual","navigator","tem","ua","userAgent","M","test","exec","slice","join","replace","appName","appVersion","splice","ele","doc","win","docElem","rect","getClientRects","length","top","left","getBoundingClientRect","width","height","ownerDocument","defaultView","documentElement","pageYOffset","clientTop","pageXOffset","clientLeft","getChildrenlength","children","len","Array","isArray","getSiblingPosition","index","siblingPosition","first","last","childs","callback","parent","loop","level","_parent","Children","forEach","item","pos","props","type","isTreeNode","node","key","smallArray","bigArray","every","ii","i","arr","levelObj","posLen","split","push","levelArr","Object","keys","sort","j","_i","filter","p","nArr","concat","stripTail","str","st","splitPosition","obj","checkedPositionArr","checkIt","objKeys","iArr","saved","_pos","_posArr","halfChecked","checked","pIndex","__pos","_posLen","sibling","siblingChecked","parentPosition","indexOf","treeNodesStates","halfCheckedKeys","checkedKeys","checkedNodes","checkedNodesPositions","itemObj","a","b","homePath","app","getHome","debug","require","ipc","ipcRenderer","uuid","React","ReactDOM","path","Tree","StickyContainer","Sticky","Menu","Segment","baseURL","TreeNode","clickFile","isLeaf","sendToHost","eventKey","onExpand","method","arg","Promise","resolve","reject","v4","send","once","event","ret","fs","fsList","args","shList","moveTrash","showDialog","input","createFile","isFile","FileExplorer","Component","constructor","nodes","Map","nodeMap","renderFolder","keyDown","keyUp","state","items","treeItems","multiple","componentDidMount","document","querySelector","click","addEventListener","findDOMNode","refs","stickey","style","initEvents","e","cmd","menuKey","Set","tree","selectedKeys","x","confirm","console","log","then","_","parentNodes","getNodesFromKeys","map","n","all","reloadDatas","setState","inputable","title","text","initValue","basename","value","k","writePath","on","componentWillUnmount","removeListener","keyCode","getChildren","nodePath","files","cpaths","existFiles","file","startsWith","cpath","statsList","newChildren","stats","name","isDirectory","mtime","size","handleMouseDown","which","setRef","set","has","get","bind","onDragStart","info","onDragEnter","keySet","rejectKeysHaveParent","keysNotHaveParent","addFlag","key2","moveFiles","dest","to","renameArgs","from","destNode","fromNodes","treeNode","getPreviousNode","findIndex","onDrop","dropKey","dropNodeIsLeaf","position","dropPosition","dropNodeParent","expanded","find","child","dragKey","dragNode","isDropToNode","dropToGap","onLoadData","afterSelect","selectedTargets","targetSet","add","parentNode","delete","addSelectedKeys","clearSelect","selectFolder","defaultPath","directory","renderStickey","menu","sidebar","backgroundColor","borderRadius","renderMain","render","noop","m","contextmenuKeys","checkedKeysChange","expandedKeys","getDefaultExpandedKeys","getDefaultCheckedKeys","getDefaultSelectedKeys","dragNodesKeys","dragOverNodeKey","dropNodeKey","componentWillReceiveProps","nextProps","getDragNodes","getExpandedKeys","getRawExpandedKeys","_dropTrigger","onDragEnterGap","offsetTop","selectHandle","offsetHeight","pageY","gapHeight","enterGap","loadData","onDragOver","onDragLeave","warn","posArr","res","rawExpandedKeys","_rawExpandedKeys","onDragEnd","expandKey","controlled","onCheck","newSt","checkStrictly","ind","keyOrPos","checkedPositions","checkKeys","_checkedKeys","onSelect","clicked","singleClick","setTimeout","onMouseEnter","onMouseLeave","onContextMenu","onRightClick","onKeyDown","getFilterExpandedKeys","expandKeyProp","expandAll","autoExpandParent","expandedPositionArr","newKey","filterExpandedKeys","willReceiveProps","undefined","defaultExpandedKeys","defaultExpandAll","defaultCheckedKeys","getKeys","defaultSelectedKeys","getOpenTransitionName","transitionName","openTransitionName","animationName","openAnimation","prefixCls","tPArr","pArr","expand","expandedIndex","exKeys","filterTreeNode","disabled","call","renderTreeNode","selectable","hasOwnProperty","cloneProps","ref","root","showLine","showIcon","draggable","dragOver","dragOverGapTop","dragOverGapBottom","selected","checkable","cloneElement","domProps","className","role","focusable","tabIndex","getTreeNodesStates","_treeNodesStates","defaultProps","browserUa","ieOrEdge","defaultTitle","equal","dataLoading","dragNodeHighlight","refChildren","_treeNodeInstances","shouldComponentUpdate","nextState","preventDefault","createDragImage","num","canvas","createElement","body","appendChild","context","getContext","fillStyle","fillRect","font","fillText","dataTransfer","setDragImage","stopPropagation","dragImage","setData","error","removeChild","callbackPromise","setLoading","renderSwitcher","expandedState","switcherCls","renderCheckbox","checkboxCls","customEle","disableCheckbox","renderChildren","renderFirst","transitionAppear","cls","animProps","animation","appear","iconState","canRenderSwitcher","content","iconEleCls","icon","favicon","wrap","onClick","href","onMouseDown","liProps","disabledCls","dragOverCls","filterCls","noopSwitcher","elem","propTypes","string","bool","object","func","topLeftLimitRange","topRightLimitRange","downRightLimitRange","downLeftLimitRange","Selection","rectangleStyle","opacity","mousedown","ev","srcElement","tagName","targetSelect","target","targets","_box","querySelectorAll","ctrlKey","metaKey","keyup","clickY","currentTarget","clickX","pageX","offsetLeft","mousemove","mouseup","selectedClass","t","classList","contains","removeEventListener","isLimit","dom","removeAttribute","reset","moveX","moveY","rectangleSize","getNewSize","rectangle","container","tar","y","xx","offsetWidth","yy","square","isDouble","Math","max","min","hasDataDouble","dataset","isRequired","module","exports","LimitRange","direction","freezeWidth","freezeHeight","maxWidth","maxHeight","toggleClass","el","condition","toggle","arguments"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AChEA,6C;;;;;;ACAA,gC;;;;;;;;;ACAAA,OAAOC,OAAP,GAAiB;AACfC,OAAM,EAACC,UAAU,aAAX,EADS;AAEfC,OAAM,MAAKJ,OAAOK,QAAP,CAAgBC,QAAhB,CAAyBC,KAAzB,CAA+B,+BAA/B,EAAgE,CAAhE;AAFI,CAAjB,C;;;;;;ACAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,YAA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ACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACnJA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;AAEA;AACA;;AAEA;AACA;AACA,cAAc;AACd;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,iBAAiB,SAAS;AAC1B,4BAA4B;AAC5B;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;AAEA;AACA;AACA,yCAAyC,SAAS;AAClD;AACA;AACA;AACA;AACA,yCAAyC,SAAS;AAClD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,MAAM;AACjB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;;;;;;;ACzMA,+C;;;;;;ACAA,+C;;;;;;ACAA,+C;;;;;;ACAA,wB","file":"explorerSidebar.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 15);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ce711129739a040dc0df","module.exports = (__webpack_require__(1))(1);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/inferno-compat/index.js from dll-reference vendor_library\n// module id = 0\n// module chunks = 0","module.exports = vendor_library;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vendor_library\"\n// module id = 1\n// module chunks = 0","window.process = {\n  env : {NODE_ENV: 'development'},\n  cwd : ()=> window.location.pathname.match(/^(.+?)[\\\\/]{1,2}history.html$/)[1]\n}\n\n\n// WEBPACK FOOTER //\n// ./src/toolPages/process.js","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/debug/src/browser.js\n// module id = 3\n// module chunks = 0","module.exports = (__webpack_require__(1))(44);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/path-browserify/index.js from dll-reference vendor_library\n// module id = 4\n// module chunks = 0","/* eslint no-loop-func: 0*/\n\nimport React from 'react';\n\nexport function browser(navigator) {\n  let tem;\n  const ua = navigator.userAgent;\n  let M = ua.match(/(opera|chrome|safari|firefox|msie|trident(?=\\/))\\/?\\s*(\\d+)/i) || [];\n  if (/trident/i.test(M[1])) {\n    tem = /\\brv[ :]+(\\d+)/g.exec(ua) || [];\n    return `IE ${tem[1] || ''}`;\n  }\n  if (M[1] === 'Chrome') {\n    tem = ua.match(/\\b(OPR|Edge)\\/(\\d+)/);\n    if (tem) return tem.slice(1).join(' ').replace('OPR', 'Opera');\n  }\n  M = M[2] ? [M[1], M[2]] : [navigator.appName, navigator.appVersion, '-?'];\n  tem = ua.match(/version\\/(\\d+)/i);\n  if (tem) {\n    M.splice(1, 1, tem[1]);\n  }\n  return M.join(' ');\n}\n\n// export function getOffset(el) {\n//   const obj = el.getBoundingClientRect();\n//   return {\n//     left: obj.left + document.body.scrollLeft,\n//     top: obj.top + document.body.scrollTop,\n//     width: obj.width,\n//     height: obj.height\n//   };\n// }\n\n// // iscroll offset\n// offset = function (el) {\n//   var left = -el.offsetLeft,\n//     top = -el.offsetTop;\n\n//   // jshint -W084\n//   while (el = el.offsetParent) {\n//     left -= el.offsetLeft;\n//     top -= el.offsetTop;\n//   }\n//   // jshint +W084\n\n//   return {\n//     left: left,\n//     top: top\n//   };\n// }\n\n/* eslint-disable */\nexport function getOffset(ele) {\n  let doc, win, docElem, rect;\n\n  if (!ele.getClientRects().length) {\n    return { top: 0, left: 0 };\n  }\n\n  rect = ele.getBoundingClientRect();\n\n  if (rect.width || rect.height) {\n    doc = ele.ownerDocument;\n    win = doc.defaultView;\n    docElem = doc.documentElement;\n\n    return {\n      top: rect.top + win.pageYOffset - docElem.clientTop,\n      left: rect.left + win.pageXOffset - docElem.clientLeft\n    };\n  }\n\n  return rect;\n}\n/* eslint-enable */\n\nfunction getChildrenlength(children) {\n  let len = 1;\n  if (Array.isArray(children)) {\n    len = children.length;\n  }\n  return len;\n}\n\nfunction getSiblingPosition(index, len, siblingPosition) {\n  if (len === 1) {\n    siblingPosition.first = true;\n    siblingPosition.last = true;\n  } else {\n    siblingPosition.first = index === 0;\n    siblingPosition.last = index === len - 1;\n  }\n  return siblingPosition;\n}\n\nexport function loopAllChildren(childs, callback, parent) {\n  const loop = (children, level, _parent) => {\n    const len = getChildrenlength(children);\n    React.Children.forEach(children, (item, index) => {\n      const pos = `${level}-${index}`;\n      if (item.props.children && item.type && item.type.isTreeNode) {\n        loop(item.props.children, pos, { node: item, pos });\n      }\n      callback(item, index, pos, item.key || pos, getSiblingPosition(index, len, {}), _parent);\n    });\n  };\n  loop(childs, 0, parent);\n}\n\nexport function isInclude(smallArray, bigArray) {\n  return smallArray.every((ii, i) => {\n    return ii === bigArray[i];\n  });\n}\n// console.log(isInclude(['0', '1'], ['0', '10', '1']));\n\n\n// arr.length === 628, use time: ~20ms\nexport function filterParentPosition(arr) {\n  const levelObj = {};\n  arr.forEach((item) => {\n    const posLen = item.split('-').length;\n    if (!levelObj[posLen]) {\n      levelObj[posLen] = [];\n    }\n    levelObj[posLen].push(item);\n  });\n  const levelArr = Object.keys(levelObj).sort();\n  for (let i = 0; i < levelArr.length; i++) {\n    if (levelArr[i + 1]) {\n      levelObj[levelArr[i]].forEach(ii => {\n        for (let j = i + 1; j < levelArr.length; j++) {\n          levelObj[levelArr[j]].forEach((_i, index) => {\n            if (isInclude(ii.split('-'), _i.split('-'))) {\n              levelObj[levelArr[j]][index] = null;\n            }\n          });\n          levelObj[levelArr[j]] = levelObj[levelArr[j]].filter(p => p);\n        }\n      });\n    }\n  }\n  let nArr = [];\n  levelArr.forEach(i => {\n    nArr = nArr.concat(levelObj[i]);\n  });\n  return nArr;\n}\n// console.log(filterParentPosition(\n//   ['0-2', '0-3-3', '0-10', '0-10-0', '0-0-1', '0-0', '0-1-1', '0-1']\n// ));\n\n\nfunction stripTail(str) {\n  const arr = str.match(/(.+)(-[^-]+)$/);\n  let st = '';\n  if (arr && arr.length === 3) {\n    st = arr[1];\n  }\n  return st;\n}\nfunction splitPosition(pos) {\n  return pos.split('-');\n}\n\nexport function handleCheckState(obj, checkedPositionArr, checkIt) {\n  // console.log(stripTail('0-101-000'));\n  let objKeys = Object.keys(obj);\n  // let s = Date.now();\n  objKeys.forEach((i, index) => {\n    const iArr = splitPosition(i);\n    let saved = false;\n    checkedPositionArr.forEach((_pos) => {\n      // 设置子节点，全选或全不选\n      const _posArr = splitPosition(_pos);\n      if (iArr.length > _posArr.length && isInclude(_posArr, iArr)) {\n        obj[i].halfChecked = false;\n        obj[i].checked = checkIt;\n        objKeys[index] = null;\n      }\n      if (iArr[0] === _posArr[0] && iArr[1] === _posArr[1]) {\n        // 如果\n        saved = true;\n      }\n    });\n    if (!saved) {\n      objKeys[index] = null;\n    }\n  });\n  // TODO: 循环 2470000 次耗时约 1400 ms。 性能瓶颈！\n  // console.log(Date.now()-s, checkedPositionArr.length * objKeys.length);\n  objKeys = objKeys.filter(i => i); // filter non null;\n\n  for (let pIndex = 0; pIndex < checkedPositionArr.length; pIndex++) {\n    // 循环设置父节点的 选中 或 半选状态\n    const loop = (__pos) => {\n      const _posLen = splitPosition(__pos).length;\n      if (_posLen <= 2) { // e.g. '0-0', '0-1'\n        return;\n      }\n      let sibling = 0;\n      let siblingChecked = 0;\n      const parentPosition = stripTail(__pos);\n      objKeys.forEach((i /* , index*/) => {\n        const iArr = splitPosition(i);\n        if (iArr.length === _posLen && isInclude(splitPosition(parentPosition), iArr)) {\n          sibling++;\n          if (obj[i].checked) {\n            siblingChecked++;\n            const _i = checkedPositionArr.indexOf(i);\n            if (_i > -1) {\n              checkedPositionArr.splice(_i, 1);\n              if (_i <= pIndex) {\n                pIndex--;\n              }\n            }\n          } else if (obj[i].halfChecked) {\n            siblingChecked += 0.5;\n          }\n          // objKeys[index] = null;\n        }\n      });\n      // objKeys = objKeys.filter(i => i); // filter non null;\n      const parent = obj[parentPosition];\n      // sibling 不会等于0\n      // 全不选 - 全选 - 半选\n      if (siblingChecked === 0) {\n        parent.checked = false;\n        parent.halfChecked = false;\n      } else if (siblingChecked === sibling) {\n        parent.checked = true;\n        parent.halfChecked = false;\n      } else {\n        parent.halfChecked = true;\n        parent.checked = false;\n      }\n      loop(parentPosition);\n    };\n    loop(checkedPositionArr[pIndex], pIndex);\n  }\n  // console.log(Date.now()-s, objKeys.length, checkIt);\n}\n\nexport function getCheck(treeNodesStates) {\n  const halfCheckedKeys = [];\n  const checkedKeys = [];\n  const checkedNodes = [];\n  const checkedNodesPositions = [];\n  Object.keys(treeNodesStates).forEach((item) => {\n    const itemObj = treeNodesStates[item];\n    if (itemObj.checked) {\n      checkedKeys.push(itemObj.key);\n      checkedNodes.push(itemObj.node);\n      checkedNodesPositions.push({ node: itemObj.node, pos: item });\n    } else if (itemObj.halfChecked) {\n      halfCheckedKeys.push(itemObj.key);\n    }\n  });\n  return {\n    halfCheckedKeys, checkedKeys, checkedNodes, checkedNodesPositions, treeNodesStates,\n  };\n}\n\nexport function getStrictlyValue(checkedKeys, halfChecked) {\n  if (halfChecked) {\n    return { checked: checkedKeys, halfChecked };\n  }\n  return checkedKeys;\n}\n\nexport function arraysEqual(a, b) {\n  if (a === b) return true;\n  if (a === null || typeof a === 'undefined' || b === null || typeof b === 'undefined') {\n    return false;\n  }\n  if (a.length !== b.length) return false;\n\n  // If you don't care about the order of the elements inside\n  // the array, you should sort both arrays here.\n\n  for (let i = 0; i < a.length; ++i) {\n    if (a[i] !== b[i]) return false;\n  }\n  return true;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/render/rc-tree/util.js","module.exports = (__webpack_require__(1))(32);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/object-assign/index.js from dll-reference vendor_library\n// module id = 6\n// module chunks = 0","module.exports = (__webpack_require__(1))(5);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/classnames/index.js from dll-reference vendor_library\n// module id = 7\n// module chunks = 0","window.debug = require('debug')('info')\n// require('debug').enable(\"info\")\nimport process from './process'\nconst ipc = require('electron').ipcRenderer\nconst uuid = require('node-uuid')\nconst React = require('react')\nconst ReactDOM = require('react-dom')\nconst path = require('path')\nimport Selection from '../render/react-selection/index'\nconst Tree = require('../render/rc-tree/index')\nconst { StickyContainer, Sticky } = require('react-sticky');\nconst { Menu,Segment } = require('semantic-ui-react')\nconst baseURL = 'chrome-extension://dckpbojndfoinamcdamhkjhnjnmjkfjd'\n// ipc.setMaxListeners(0)\n\nconst {TreeNode} = Tree\nlet homePath\n\n// const Promise = require(\"bluebird\")\n\nfunction clickFile(node){\n  if(node.props.isLeaf){\n    ipc.sendToHost(\"open-tab-opposite\",node.props.eventKey.replace(/\\\\/g,'/'))\n  }\n  else{\n    node.onExpand()\n  }\n}\n\nfunction app(method,arg){\n  return new Promise((resolve,reject)=>{\n    const key = uuid.v4()\n    ipc.send('app-method',key,method,arg)\n    ipc.once(`app-method-reply_${key}`,(event,ret)=>{\n      resolve(ret)\n    })\n  })\n}\n\nfunction fs(method,arg){\n  return new Promise((resolve,reject)=>{\n    const key = uuid.v4()\n    ipc.send('file-system',key,method,arg)\n    ipc.once(`file-system-reply_${key}`,(event,ret)=>{\n      resolve(ret)\n    })\n  })\n}\n\nfunction fsList(method,args){\n  return new Promise((resolve,reject)=>{\n    const key = uuid.v4()\n    ipc.send('file-system-list',key,method,args)\n    ipc.once(`file-system-list-reply_${key}`,(event,ret)=>{\n      resolve(ret)\n    })\n  })\n}\n\n\nfunction shList(method,args){\n  return new Promise((resolve,reject)=>{\n    const key = uuid.v4()\n    ipc.send('shell-list',key,method,args)\n    ipc.once(`shell-list-reply_${key}`,(event,ret)=>{\n      resolve(ret)\n    })\n  })\n}\n\n\nfunction moveTrash(args){\n  return new Promise((resolve,reject)=>{\n    const key = uuid.v4()\n    ipc.send('move-trash',key,args)\n    ipc.once(`move-trash-reply_${key}`,(event,ret)=>{\n      resolve(ret)\n    })\n  })\n}\n\nfunction showDialog(input){\n  return new Promise((resolve,reject)=>{\n    const key = uuid.v4()\n    ipc.send('show-dialog-exploler',key,input)\n    ipc.once(`show-dialog-exploler-reply_${key}`,(event,ret)=>{\n      resolve(ret)\n    })\n  })\n}\n\n\nfunction createFile(path,isFile){\n  return new Promise((resolve,reject)=>{\n    const key = uuid.v4()\n    ipc.send('create-file',key,path,isFile)\n    ipc.once(`create-file-reply_${key}`,(event,ret)=>{\n      resolve(ret)\n    })\n  })\n}\n\n\nclass FileExplorer extends React.Component{\n  constructor(props) {\n    super(props)\n    this.nodes = new Map()\n    this.nodeMap = new Map()\n    this.renderFolder = ::this.renderFolder\n    this.keyDown = ::this.keyDown\n    this.keyUp = ::this.keyUp\n    this.state = {items: props.items,treeItems:this.renderFolder(props.items),multiple:false}\n  }\n\n  componentDidMount(){\n    document.querySelector(\".fa.fa-caret-right.caret\").click()\n    document.addEventListener(\"keydown\",this.keyDown)\n    document.addEventListener(\"keyup\",this.keyUp)\n    ReactDOM.findDOMNode(this.refs.stickey).style.height = \"100%\"\n    this.initEvents()\n  }\n\n  initEvents() {\n    this.event = (e, cmd) => {\n      if(cmd == \"delete\") {\n        const key = this.menuKey\n        this.menuKey = (void 0)\n        const keys = [...new Set([key, ...this.refs.tree.state.selectedKeys])].filter(x=>x)\n        if (window.confirm(`Are you sure to move the following files to trash?\\n${keys.join(\"\\n\")}`)) {\n          console.log(keys)\n          moveTrash(keys).then(_ => {\n            const parentNodes = this.getNodesFromKeys(this.getNodesFromKeys(keys).map(n => n.props.parent && n.props.parent.path))\n            console.log(parentNodes)\n            Promise.all(this.reloadDatas([...new Set(parentNodes)])).then(_ => {\n              this.setState({treeItems: this.renderFolder(this.state.items)})\n            })\n          })\n        }\n      }\n      else if(cmd == \"rename\"){\n        const key = this.menuKey\n        this.menuKey = (void 0)\n        const keys = [key || this.refs.tree.state.selectedKeys[0]]\n        showDialog({\n          inputable: true, title: 'Rename',\n          text: `Enter a new Name`,\n          initValue: [path.basename(keys[0])]\n        }).then(value => {\n          if (!value) return\n          value = value[0]\n          const nodes = this.getNodesFromKeys(keys)\n          const parentNodes = this.getNodesFromKeys(nodes.map(n => n.props.parent && n.props.parent.path))\n          fs('rename',[keys[0],path.join(parentNodes[0].props.k,value)]).then(_ => {\n            Promise.all(this.reloadDatas(parentNodes)).then(_ => {\n              this.setState({treeItems: this.renderFolder(this.state.items)})\n            })\n          })\n        })\n      }\n      else if(cmd == \"create-file\" || cmd == \"create-dirctory\") {\n        const isFile = cmd == \"create-file\"\n        const key = this.menuKey\n        this.menuKey = (void 0)\n        const keys = [key || this.refs.tree.state.selectedKeys[0]]\n        showDialog({\n          inputable: true, title: `New ${isFile ? 'File' : 'Directory'}`,\n          text: `Enter a new ${isFile ? 'file' : 'directory'} name`\n        }).then(value => {\n          console.log(value)\n          if (!value) return\n          value = value[0]\n          const nodes = this.getNodesFromKeys(keys)\n          const parentNodes = this.getNodesFromKeys(nodes.map(n => n.props.parent && n.props.parent.path))\n          let writePath = path.join(nodes[0].props.isLeaf ? parentNodes[0].props.k : keys[0],value)\n          createFile(writePath, isFile).then(_ => {\n            Promise.all(this.reloadDatas(nodes[0].props.isLeaf ? parentNodes : nodes)).then(_ => {\n              this.setState({treeItems: this.renderFolder(this.state.items)},_=>{\n                if(isFile) clickFile(this.getNodesFromKeys([writePath])[0])\n              })\n            })\n          })\n        })\n      }\n    }\n    ipc.on('explorer-meun-reply', this.event)\n  }\n\n  componentWillUnmount(){\n    ipc.removeListener(\"explorer-meun-reply\",this.event)\n  }\n\n  keyDown(e){\n    if(e.keyCode == 17){ // Ctrl\n      this.setState({multiple:true})\n      console.log(e)\n    }\n    else if (e.keyCode == 46) { // Del\n      const keys = this.refs.tree.state.selectedKeys\n      if (window.confirm(`Are you sure to move the following files to trash?\\n${keys.join(\"\\n\")}`)) {\n        console.log(keys)\n        moveTrash(keys).then(_ => {\n          const parentNodes = this.getNodesFromKeys(this.getNodesFromKeys(keys).map(n => n.props.parent && n.props.parent.path))\n          console.log(parentNodes)\n          Promise.all(this.reloadDatas([...new Set(parentNodes)])).then(_ => {\n            this.setState({treeItems: this.renderFolder(this.state.items)})\n          })\n        })\n      }\n    }\n  }\n\n  keyUp(e){\n    if(e.keyCode == 17){\n      this.setState({multiple:false})\n      console.log(e)\n    }\n  }\n\n  async getChildren(nodePath) {\n    const files = await fs('readdir',[nodePath])\n\n    const cpaths = []\n    const existFiles = []\n    for (let file of files) {\n      if(file.startsWith(\".\")) continue\n      existFiles.push(file)\n      const cpath = path.join(nodePath, file)\n      cpaths.push([cpath])\n    }\n    const statsList = await fsList('stat',cpaths)\n    console.log(statsList)\n    const newChildren = []\n    statsList.forEach((stats,i)=>{\n      newChildren.push({\n        name: existFiles[i],\n        path: cpaths[i][0],\n        type: stats.isDirectory ? 'directory' : 'file',\n        mtime: stats.mtime,\n        size: stats.size,\n        children: []\n      })\n    })\n    return newChildren\n  }\n\n  handleMouseDown(key,e){\n    if(e.which == 3){\n      ipc.send(\"explorer-meun\",[...new Set([key,...this.refs.tree.state.selectedKeys])].filter(x=>x))\n      this.menuKey = key\n    }\n  }\n\n  setRef(item,ele){\n    this.nodes.set(item.path,ele)\n    if(!this.nodeMap.has(item.path)) this.nodeMap.set(item.path,item.children)\n  }\n\n  renderFolder(items,parent) {\n    console.log(items)\n    const ret = []\n    for(let item of items){\n      let children  = null;\n      if(this.nodeMap.has(item.path)){\n        item.children = this.nodeMap.get(item.path)\n      }\n      if (item.children.length > 0) {\n        children = item.children.sort((a, b)=>a.type < b.type ? -1\n          : a.type > b.type ? 1\n            : a.path < b.path ? -1 :\n              a.path > b.path ? 1 : 0);\n        ret.push(<TreeNode ref={this.setRef.bind(this,item)} parent={parent} k={item.path} key={item.path}\n                           title={item.name} refChildren={item.children} onMouseDown={this.handleMouseDown.bind(this,item.path)}>{this.renderFolder(item.children,item)}</TreeNode>)\n      }\n      else{\n        ret.push(<TreeNode ref={this.setRef.bind(this,item)} parent={parent} k={item.path} key={item.path}\n                           title={item.name} isLeaf={item.type == 'file'} refChildren={item.children} onMouseDown={this.handleMouseDown.bind(this,item.path)}/>)\n      }\n    }\n    return ret\n  }\n\n\n  onDragStart(info) {\n    console.log('start', info);\n  }\n\n  onDragEnter(info) {\n    console.log('enter', info);\n    // this.setState({\n    //   expandedKeys: info.expandedKeys,\n    // });\n  }\n\n  getNodesFromKeys(keys){\n    const keySet = new Set(keys)\n    const ret = []\n    for(let key of keys){\n      if(this.nodes.has(key)) ret.push(this.nodes.get(key))\n    }\n    return ret\n  }\n\n  rejectKeysHaveParent(selectedKeys) {\n    const keysNotHaveParent = []\n    for (let key of selectedKeys) {\n      let addFlag = true\n      for (let key2 of selectedKeys) {\n        if (key != key2 && key.startsWith(key2)) {\n          addFlag = false\n          break\n        }\n      }\n      if (addFlag) keysNotHaveParent.push(key)\n    }\n    return keysNotHaveParent;\n  }\n\n\n  moveFiles(dest, keysNotHaveParent) {\n    const to = `${path.join(dest, 'x').slice(0,-1)}.`\n    const renameArgs = keysNotHaveParent.map(from => [from, to])\n    console.log(renameArgs.map(x=>x.join(\",\")))\n    console.log(`2 ${keysNotHaveParent.join(\",\")} to ${dest}`)\n    shList('mv', renameArgs).then(_ => {\n      const destNode = this.getNodesFromKeys([dest])[0]\n      const fromNodes = this.getNodesFromKeys(keysNotHaveParent)\n      const parentNodes = this.getNodesFromKeys(fromNodes.map(n=>n.props.parent && n.props.parent.path))\n      console.log(destNode,fromNodes,parentNodes)\n      Promise.all(this.reloadDatas([...new Set([destNode,...parentNodes])])).then(_=>{\n        this.refs.tree.setState({selectedKeys:[]},_=>{\n          this.setState({treeItems: this.renderFolder(this.state.items)})\n        })\n      })\n    })\n  }\n\n  reloadDatas(nodes){\n    return nodes.map(treeNode=>{\n      const children = this.nodeMap.get(treeNode.props.k)\n      children.splice(0, children.length)\n      return (async ()=>{\n        ;(await this.getChildren(treeNode.props.eventKey)).forEach(x=>{\n          children.push(x)\n        })\n      })()\n    })\n  }\n\n  getPreviousNode(key){\n    const parent = this.nodes.get(key).props.parent\n    if(!parent) return (void 0)\n    const index = parent.children.findIndex(x=> x.path == key)\n    return this.nodes.get((index === 0 ? parent : parent.children[index - 1]).path)\n  }\n\n  onDrop(info) {\n    console.log('drop', info);\n    let dropKey = info.node.props.eventKey\n    let dropNodeIsLeaf = info.node.props.isLeaf\n    let position = info.dropPosition\n    let dropNodeParent = info.node.props.parent\n    if(position == -1){\n      const node = this.getPreviousNode(dropKey)\n      dropKey = node.props.k\n      dropNodeIsLeaf = node.props.isLeaf\n    }\n    if(position == 1 && info.node.props.expanded && info.node.props.children && info.node.props.children.length > 0){\n      dropNodeParent = dropNodeParent.children.find(child=>child.path == dropKey)\n    }\n\n    const dragKey = info.dragNode.props.eventKey\n\n    const selectedKeys = [...new Set([dragKey,...info.selectedKeys])].filter(x=>x)\n    if(selectedKeys.find(key=>key == dropKey)) return\n\n    const isDropToNode = !info.dropToGap\n\n    if(!dropNodeIsLeaf && isDropToNode){\n      for(let key of selectedKeys){\n        if(dropKey.startsWith(key)) return\n      }\n      const keysNotHaveParent = this.rejectKeysHaveParent(selectedKeys);\n      if(keysNotHaveParent.length == 0) return\n      this.moveFiles(dropKey, keysNotHaveParent)\n    }\n    else{\n      console.log(dropNodeParent.path,selectedKeys)\n      for(let key of selectedKeys){\n        if(dropNodeParent.path.startsWith(key)) return\n      }\n      const keysNotHaveParent = this.rejectKeysHaveParent(selectedKeys);\n      if(keysNotHaveParent.length == 0) return\n      this.moveFiles(dropNodeParent.path, keysNotHaveParent)\n    }\n  }\n\n\n\n  onLoadData(treeNode) {\n    console.log(\"load\",treeNode)\n    const children = this.nodeMap.get(treeNode.props.k)\n    children.splice(0, children.length)\n    ;(async ()=>{\n      ;(await this.getChildren(treeNode.props.eventKey)).forEach(x=>{\n        children.push(x)\n      })\n      this.setState({treeItems: this.renderFolder(this.state.items)})\n    })()\n    return new Promise((resolve) => {resolve()});\n  }\n\n  afterSelect(selectedTargets){\n    if(selectedTargets.length == 0) return\n    const targetSet = new Set()\n    for(let a of selectedTargets){\n      targetSet.add(a.parentNode)\n    }\n    const selectedKeys = []\n    for(let [k,node] of this.nodes){\n      const ele = ReactDOM.findDOMNode(node)\n      if(!ele){\n        this.nodes.delete(k)\n        this.nodeMap.delete(k)\n        continue\n      }\n      if(targetSet.has(ele)){\n        targetSet.delete(ele)\n        selectedKeys.push(k)\n        if(targetSet.size == 0) break\n      }\n    }\n    console.log(selectedKeys)\n    this.refs.tree.addSelectedKeys(selectedKeys)\n  }\n\n  clearSelect(){\n    this.refs.tree.clearSelect()\n  }\n\n  selectFolder(){\n    showDialog({defaultPath:homePath}).then(directory=>{\n      if(!directory) return\n      this.nodes = new Map()\n      this.nodeMap = new Map()\n      const items = [{\n        name: path.basename(directory),\n        path: directory,\n        type: 'directory',\n        expanded: true,\n        children: []\n      }]\n      this.setState({items,treeItems: this.renderFolder(items)},\n        _=>document.querySelector(\".fa.fa-caret-right.caret\").click())\n    })\n  }\n\n  renderStickey(children){\n    let menu\n    if(this.props.sidebar){\n      menu = <Menu pointing secondary >\n        <Menu.Item as='a' href={`${baseURL}/favorite_sidebar.html`} key=\"favorite\" icon=\"star\"/>\n        <Menu.Item as='a' href={`${baseURL}/history_sidebar.html`} key=\"history\" icon=\"history\"/>\n        <Menu.Item as='a' href={`${baseURL}/tabs_sidebar.html`} key=\"tabs\" icon=\"align justify\"/>\n        <Menu.Item key=\"file-explorer\" icon=\"folder\" active={true}/>\n        <Menu.Item key=\"open\" icon=\"folder open\" onClick={::this.selectFolder} />\n      </Menu>\n    }\n    else{\n      menu =  <Menu pointing secondary >\n        <Menu.Item key=\"open\" name=\"Open Directory\" active={true} onClick={::this.selectFolder}\n                   style={{backgroundColor: 'rgb(228, 242, 255)', borderRadius: '4px 4px 0px 0px'}}/>\n        <Menu.Item as='a' href={`${baseURL}/top.html`} key=\"top\" name=\"Top\"/>\n        <Menu.Item as='a' href={`${baseURL}/favorite.html`} key=\"favorite\" name=\"Favorite\"/>\n        <Menu.Item as='a' href={`${baseURL}/history.html`} key=\"history\" name=\"History\"/>\n        <Menu.Item as='a' href={`${baseURL}/download.html`} key=\"download\" name=\"Download\"/>\n        {/*<Menu.Item key=\"file-explorer\" name=\"File Explorer\" active={true}/>*/}\n        <Menu.Item as='a' href={`${baseURL}/terminal.html`} key=\"terminal\" name=\"Terminal\"/>\n      </Menu>\n    }\n\n    return <StickyContainer ref=\"stickey\">\n      <Sticky>\n        <div>\n          {menu}\n        </div>\n      </Sticky>\n      {children}\n    </StickyContainer>\n  }\n\n  renderMain(){\n    return <Selection ref=\"select\" target=\".target\" selectedClass=\"rc-tree-node-selected\"\n                      afterSelect={::this.afterSelect} clearSelect={::this.clearSelect}>\n      <div className=\"draggable-container\">\n        <Tree\n          ref=\"tree\"\n          draggable\n          onDragStart={::this.onDragStart}\n          onDragEnter={::this.onDragEnter}\n          onDrop={::this.onDrop}\n          loadData={::this.onLoadData}\n          onDoubleClick={(e)=>console.log(e)}\n          multiple={this.state.multiple}\n          clickFile={clickFile}\n          singleClick={this.props.sidebar}\n          // onMouseEnter={(e)=>console.log(e)}\n        >\n          {this.state.treeItems}\n        </Tree>\n      </div>\n    </Selection>\n  }\n  render() {\n    console.log(\"r\",this.state)\n    return this.renderStickey(this.renderMain())\n  }\n}\n\nasync function getHome(){\n  homePath = await app('getPath','home')\n  return homePath\n}\n\nexport default {FileExplorer,getHome}\n\n\n// WEBPACK FOOTER //\n// ./src/toolPages/explorer.js","/* eslint no-console:0 */\nimport React, { PropTypes } from 'react';\nimport assign from 'object-assign';\nimport classNames from 'classnames';\nimport {\n  loopAllChildren, isInclude, getOffset,\n  filterParentPosition, handleCheckState, getCheck,\n  getStrictlyValue, arraysEqual,\n} from './util';\n\nfunction noop() {\n}\n\nclass Tree extends React.Component {\n  constructor(props) {\n    super(props);\n    ['onKeyDown', 'onCheck'].forEach((m) => {\n      this[m] = this[m].bind(this);\n    });\n    this.contextmenuKeys = [];\n    this.checkedKeysChange = true;\n\n    this.state = {\n      expandedKeys: this.getDefaultExpandedKeys(props),\n      checkedKeys: this.getDefaultCheckedKeys(props),\n      selectedKeys: this.getDefaultSelectedKeys(props),\n      dragNodesKeys: '',\n      dragOverNodeKey: '',\n      dropNodeKey: '',\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const expandedKeys = this.getDefaultExpandedKeys(nextProps, true);\n    const checkedKeys = this.getDefaultCheckedKeys(nextProps, true);\n    const selectedKeys = this.getDefaultSelectedKeys(nextProps, true);\n    const st = {};\n    if (expandedKeys) {\n      st.expandedKeys = expandedKeys;\n    }\n    if (checkedKeys) {\n      if (nextProps.checkedKeys === this.props.checkedKeys) {\n        this.checkedKeysChange = false;\n      } else {\n        this.checkedKeysChange = true;\n      }\n      st.checkedKeys = checkedKeys;\n    }\n    if (selectedKeys) {\n      st.selectedKeys = selectedKeys;\n    }\n    this.setState(st);\n  }\n\n  onDragStart(e, treeNode) {\n    this.dragNode = treeNode;\n    this.dragNodesKeys = this.getDragNodes(treeNode);\n    const st = {\n      dragNodesKeys: this.dragNodesKeys,\n    };\n    const expandedKeys = this.getExpandedKeys(treeNode, false);\n    if (expandedKeys) {\n      // Controlled expand, save and then reset\n      this.getRawExpandedKeys();\n      st.expandedKeys = expandedKeys;\n    }\n    this.setState(st);\n    this.props.onDragStart({\n      event: e,\n      node: treeNode,\n    });\n    this._dropTrigger = false;\n  }\n\n  onDragEnterGap(e, treeNode) {\n    const offsetTop = (0, getOffset)(treeNode.refs.selectHandle).top;\n    const offsetHeight = treeNode.refs.selectHandle.offsetHeight;\n    const pageY = e.pageY;\n    const gapHeight = 2;\n    if (pageY > offsetTop + offsetHeight - gapHeight) {\n      this.dropPosition = 1;\n      console.log(1,pageY, offsetTop + offsetHeight - gapHeight,offsetTop + gapHeight)\n      return 1;\n    }\n    if (pageY < offsetTop + gapHeight) {\n      this.dropPosition = -1;\n      console.log(-1,pageY, offsetTop + offsetHeight - gapHeight,offsetTop + gapHeight)\n      return -1;\n    }\n    this.dropPosition = 0;\n    console.log(0,pageY, offsetTop + offsetHeight - gapHeight,offsetTop + gapHeight)\n    return 0;\n  }\n\n  onDragEnter(e, treeNode) {\n    const enterGap = this.onDragEnterGap(e, treeNode);\n    if (this.dragNode.props.eventKey === treeNode.props.eventKey && enterGap === 0) {\n      this.setState({\n        dragOverNodeKey: '',\n      });\n      return;\n    }\n    const st = {\n      dragOverNodeKey: treeNode.props.eventKey,\n    };\n    const expandedKeys = this.getExpandedKeys(treeNode, true);\n    if (expandedKeys) {\n      console.log(\"expand3\")\n      this.getRawExpandedKeys();\n      st.expandedKeys = expandedKeys;\n      this.props.loadData(treeNode).then(_=>_);\n    }\n    this.setState(st);\n    this.props.onDragEnter({\n      event: e,\n      node: treeNode,\n      expandedKeys: expandedKeys && [...expandedKeys] || [...this.state.expandedKeys],\n    });\n  }\n\n  onDragOver(e, treeNode) {\n    this.props.onDragOver({ event: e, node: treeNode });\n  }\n\n  onDragLeave(e, treeNode) {\n    this.props.onDragLeave({ event: e, node: treeNode });\n  }\n\n  onDrop(e, treeNode) {\n    const key = treeNode.props.eventKey;\n    this.setState({\n      dragOverNodeKey: '',\n      dropNodeKey: key,\n    });\n    if (this.dragNodesKeys.indexOf(key) > -1) {\n      if (console.warn) {\n        console.warn('can not drop to dragNode(include it\\'s children node)');\n      }\n      return false;\n    }\n\n    const posArr = treeNode.props.pos.split('-');\n    const res = {\n      event: e,\n      node: treeNode,\n      dragNode: this.dragNode,\n      dragNodesKeys: [...this.dragNodesKeys],\n      dropPosition: this.dropPosition,\n      selectedKeys: this.state.selectedKeys\n    };\n    if (this.dropPosition !== 0) {\n      res.dropToGap = true;\n    }\n    if ('expandedKeys' in this.props) {\n      res.rawExpandedKeys = [...this._rawExpandedKeys] || [...this.state.expandedKeys];\n    }\n    this.props.onDrop(res);\n    this._dropTrigger = true;\n  }\n\n  onDragEnd(e, treeNode) {\n    this.setState({\n      dragOverNodeKey: '',\n    });\n    this.props.onDragEnd({ event: e, node: treeNode });\n  }\n\n  onExpand(treeNode) {\n    console.log(\"expand\")\n    window.expandKey = treeNode.props.eventKey\n    const expanded = !treeNode.props.expanded;\n    const controlled = 'expandedKeys' in this.props;\n    const expandedKeys = [...this.state.expandedKeys];\n    const index = expandedKeys.indexOf(treeNode.props.eventKey);\n    if (expanded && index === -1) {\n      expandedKeys.push(treeNode.props.eventKey);\n    } else if (!expanded && index > -1) {\n      expandedKeys.splice(index, 1);\n    }\n    if (!controlled) {\n      this.setState({ expandedKeys });\n    }\n    this.props.onExpand(expandedKeys, { node: treeNode, expanded });\n\n    // after data loaded, need set new expandedKeys\n    if (expanded && this.props.loadData) {\n      return this.props.loadData(treeNode).then(() => {\n        if (!controlled) {\n          // console.log(this.state)\n          this.setState({ expandedKeys });\n        }\n      });\n    }\n\n    window.expandKey = (void 0)\n  }\n\n  onCheck(treeNode) {\n    let checked = !treeNode.props.checked;\n    if (treeNode.props.halfChecked) {\n      checked = true;\n    }\n    const key = treeNode.props.eventKey;\n    let checkedKeys = [...this.state.checkedKeys];\n    const index = checkedKeys.indexOf(key);\n\n    const newSt = {\n      event: 'check',\n      node: treeNode,\n      checked,\n    };\n\n    if (this.props.checkStrictly) {\n      if (checked && index === -1) {\n        checkedKeys.push(key);\n      }\n      if (!checked && index > -1) {\n        checkedKeys.splice(index, 1);\n      }\n      newSt.checkedNodes = [];\n      loopAllChildren(this.props.children, (item, ind, pos, keyOrPos) => {\n        if (checkedKeys.indexOf(keyOrPos) !== -1) {\n          newSt.checkedNodes.push(item);\n        }\n      });\n      if (!('checkedKeys' in this.props)) {\n        this.setState({\n          checkedKeys,\n        });\n      }\n      const halfChecked = this.props.checkedKeys ? this.props.checkedKeys.halfChecked : [];\n      this.props.onCheck(getStrictlyValue(checkedKeys, halfChecked), newSt);\n    } else {\n      if (checked && index === -1) {\n        this.treeNodesStates[treeNode.props.pos].checked = true;\n        const checkedPositions = [];\n        Object.keys(this.treeNodesStates).forEach(i => {\n          if (this.treeNodesStates[i].checked) {\n            checkedPositions.push(i);\n          }\n        });\n        handleCheckState(this.treeNodesStates, filterParentPosition(checkedPositions), true);\n      }\n      if (!checked) {\n        this.treeNodesStates[treeNode.props.pos].checked = false;\n        this.treeNodesStates[treeNode.props.pos].halfChecked = false;\n        handleCheckState(this.treeNodesStates, [treeNode.props.pos], false);\n      }\n      const checkKeys = getCheck(this.treeNodesStates);\n      newSt.checkedNodes = checkKeys.checkedNodes;\n      newSt.checkedNodesPositions = checkKeys.checkedNodesPositions;\n      newSt.halfCheckedKeys = checkKeys.halfCheckedKeys;\n      this.checkKeys = checkKeys;\n\n      this._checkedKeys = checkedKeys = checkKeys.checkedKeys;\n      if (!('checkedKeys' in this.props)) {\n        this.setState({\n          checkedKeys,\n        });\n      }\n      this.props.onCheck(checkedKeys, newSt);\n    }\n  }\n\n  onSelect(treeNode) {\n    console.log('single',this.props)\n    if (!this.props.multiple && (this.clicked || this.props.singleClick)) {\n      this.props.clickFile(treeNode)\n      this.clicked = false;\n      return;\n    }\n\n    this.clicked = true;\n    setTimeout( ()=> {\n      this.clicked = false;\n    }, 300);\n\n    const props = this.props;\n    let selectedKeys = [...this.state.selectedKeys];\n    const eventKey = treeNode.props.eventKey;\n    const index = selectedKeys.indexOf(eventKey);\n\n    if (!props.multiple) {\n      selectedKeys = [eventKey]\n    }\n    else{\n      if (index !== -1) {\n        selectedKeys.splice(index,1)\n      }\n      else {\n        selectedKeys.push(eventKey);\n      }\n    }\n\n    // const selectedNodes = [];\n    // if (selectedKeys.length) {\n    //   loopAllChildren(this.props.children, (item) => {\n    //     if (selectedKeys.indexOf(item.key) !== -1) {\n    //       selectedNodes.push(item);\n    //     }\n    //   });\n    // }\n    // const newSt = {\n    //   event: 'select',\n    //   node: treeNode,\n    //   selected,\n    //   selectedNodes,\n    // };\n    // if (!('selectedKeys' in this.props)) {\n    this.setState({selectedKeys});\n    // }\n    // props.onSelect(selectedKeys, newSt);\n  }\n\n  onMouseEnter(e, treeNode) {\n    this.props.onMouseEnter({ event: e, node: treeNode });\n  }\n\n  onMouseLeave(e, treeNode) {\n    this.props.onMouseLeave({ event: e, node: treeNode });\n  }\n\n  onContextMenu(e, treeNode) {\n    const selectedKeys = [...this.state.selectedKeys];\n    const eventKey = treeNode.props.eventKey;\n    if (this.contextmenuKeys.indexOf(eventKey) === -1) {\n      this.contextmenuKeys.push(eventKey);\n    }\n    this.contextmenuKeys.forEach((key) => {\n      const index = selectedKeys.indexOf(key);\n      if (index !== -1) {\n        selectedKeys.splice(index, 1);\n      }\n    });\n    if (selectedKeys.indexOf(eventKey) === -1) {\n      selectedKeys.push(eventKey);\n    }\n    this.setState({\n      selectedKeys,\n    });\n    this.props.onRightClick({ event: e, node: treeNode });\n  }\n\n  // all keyboard events callbacks run from here at first\n  onKeyDown(e) {\n    // e.preventDefault();\n  }\n\n  getFilterExpandedKeys(props, expandKeyProp, expandAll) {\n    const keys = props[expandKeyProp];\n    if (!expandAll && !props.autoExpandParent) {\n      return keys || [];\n    }\n    const expandedPositionArr = [];\n    if (props.autoExpandParent) {\n      loopAllChildren(props.children, (item, index, pos, newKey) => {\n        if (keys.indexOf(newKey) > -1) {\n          expandedPositionArr.push(pos);\n        }\n      });\n    }\n    const filterExpandedKeys = [];\n    loopAllChildren(props.children, (item, index, pos, newKey) => {\n      if (expandAll) {\n        filterExpandedKeys.push(newKey);\n      } else if (props.autoExpandParent) {\n        expandedPositionArr.forEach(p => {\n          if ((p.split('-').length > pos.split('-').length\n            && isInclude(pos.split('-'), p.split('-')) || pos === p)\n            && filterExpandedKeys.indexOf(newKey) === -1) {\n            filterExpandedKeys.push(newKey);\n          }\n        });\n      }\n    });\n    return filterExpandedKeys.length ? filterExpandedKeys : keys;\n  }\n\n  getDefaultExpandedKeys(props, willReceiveProps) {\n    let expandedKeys = willReceiveProps ? undefined :\n      this.getFilterExpandedKeys(props, 'defaultExpandedKeys',\n        props.defaultExpandedKeys.length ? false : props.defaultExpandAll);\n    if ('expandedKeys' in props) {\n      expandedKeys = (props.autoExpandParent ?\n          this.getFilterExpandedKeys(props, 'expandedKeys', false) :\n          props.expandedKeys) || [];\n    }\n    return expandedKeys;\n  }\n\n  getDefaultCheckedKeys(props, willReceiveProps) {\n    let checkedKeys = willReceiveProps ? undefined : props.defaultCheckedKeys;\n    if ('checkedKeys' in props) {\n      checkedKeys = props.checkedKeys || [];\n      if (props.checkStrictly) {\n        if (props.checkedKeys.checked) {\n          checkedKeys = props.checkedKeys.checked;\n        } else if (!Array.isArray(props.checkedKeys)) {\n          checkedKeys = [];\n        }\n      }\n    }\n    return checkedKeys;\n  }\n\n  getDefaultSelectedKeys(props, willReceiveProps) {\n    const getKeys = (keys) => {\n      if (props.multiple) {\n        return [...keys];\n      }\n      if (keys.length) {\n        return [keys[0]];\n      }\n      return keys;\n    };\n    let selectedKeys = willReceiveProps ? undefined : getKeys(props.defaultSelectedKeys);\n    if ('selectedKeys' in props) {\n      selectedKeys = getKeys(props.selectedKeys);\n    }\n    return selectedKeys;\n  }\n\n  getRawExpandedKeys() {\n    if (!this._rawExpandedKeys && ('expandedKeys' in this.props)) {\n      this._rawExpandedKeys = [...this.state.expandedKeys];\n    }\n  }\n\n  getOpenTransitionName() {\n    const props = this.props;\n    let transitionName = props.openTransitionName;\n    const animationName = props.openAnimation;\n    if (!transitionName && typeof animationName === 'string') {\n      transitionName = `${props.prefixCls}-open-${animationName}`;\n    }\n    return transitionName;\n  }\n\n  getDragNodes(treeNode) {\n    const dragNodesKeys = [];\n    const tPArr = treeNode.props.pos.split('-');\n    loopAllChildren(this.props.children, (item, index, pos, newKey) => {\n      const pArr = pos.split('-');\n      if (treeNode.props.pos === pos || tPArr.length < pArr.length && isInclude(tPArr, pArr)) {\n        dragNodesKeys.push(newKey);\n      }\n    });\n    return dragNodesKeys;\n  }\n\n  getExpandedKeys(treeNode, expand) {\n    const key = treeNode.props.eventKey;\n    const expandedKeys = this.state.expandedKeys;\n    const expandedIndex = expandedKeys.indexOf(key);\n    let exKeys;\n    if (expandedIndex > -1 && !expand) {\n      exKeys = [...expandedKeys];\n      exKeys.splice(expandedIndex, 1);\n      return exKeys;\n    }\n    if (expand && expandedKeys.indexOf(key) === -1) {\n      return expandedKeys.concat([key]);\n    }\n  }\n\n  filterTreeNode(treeNode) {\n    const filterTreeNode = this.props.filterTreeNode;\n    if (typeof filterTreeNode !== 'function' || treeNode.props.disabled) {\n      return false;\n    }\n    return filterTreeNode.call(this, treeNode);\n  }\n\n  renderTreeNode(child, index, level = 0) {\n    const pos = `${level}-${index}`;\n    const key = child.key || pos;\n    const state = this.state;\n    const props = this.props;\n\n    // prefer to child's own selectable property if passed\n    let selectable = props.selectable;\n    if (child.props.hasOwnProperty('selectable')) {\n      selectable = child.props.selectable;\n    }\n\n    const cloneProps = {\n      ref: `treeNode-${key}`,\n      root: this,\n      eventKey: key,\n      pos,\n      selectable,\n      loadData: props.loadData,\n      onMouseEnter: props.onMouseEnter,\n      onMouseLeave: props.onMouseLeave,\n      onRightClick: props.onRightClick,\n      prefixCls: props.prefixCls,\n      showLine: props.showLine,\n      showIcon: props.showIcon,\n      draggable: props.draggable,\n      dragOver: state.dragOverNodeKey === key && this.dropPosition === 0 && !child.props.isLeaf,\n      dragOverGapTop: state.dragOverNodeKey === key && this.dropPosition === -1,\n      dragOverGapBottom: state.dragOverNodeKey === key && (this.dropPosition === 1 || this.dropPosition === 0 && child.props.isLeaf),\n      _dropTrigger: this._dropTrigger,\n      expanded: state.expandedKeys.indexOf(key) !== -1,\n      selected: state.selectedKeys.indexOf(key) !== -1,\n      openTransitionName: this.getOpenTransitionName(),\n      openAnimation: props.openAnimation,\n      filterTreeNode: this.filterTreeNode.bind(this),\n    };\n    if (props.checkable) {\n      cloneProps.checkable = props.checkable;\n      if (props.checkStrictly) {\n        if (state.checkedKeys) {\n          cloneProps.checked = state.checkedKeys.indexOf(key) !== -1 || false;\n        }\n        if (props.checkedKeys && props.checkedKeys.halfChecked) {\n          cloneProps.halfChecked = props.checkedKeys.halfChecked.indexOf(key) !== -1 || false;\n        } else {\n          cloneProps.halfChecked = false;\n        }\n      } else {\n        if (this.checkedKeys) {\n          cloneProps.checked = this.checkedKeys.indexOf(key) !== -1 || false;\n        }\n        cloneProps.halfChecked = this.halfCheckedKeys.indexOf(key) !== -1;\n      }\n    }\n    if (this.treeNodesStates && this.treeNodesStates[pos]) {\n      assign(cloneProps, this.treeNodesStates[pos].siblingPosition);\n    }\n    // console.log(556,child, cloneProps)\n    return React.cloneElement(child, cloneProps);\n  }\n\n  addSelectedKeys(arr){\n    this.setState({selectedKeys:this.state.selectedKeys.concat(arr)})\n  }\n\n  clearSelect(){\n    if(this.state.selectedKeys.length > 0)\n      this.setState({selectedKeys: []})\n  }\n\n  render() {\n    // console.log(\"treeRend\",this.state.selectedKeys)\n    const props = this.props;\n    const domProps = {\n      className: classNames(props.className, props.prefixCls),\n      role: 'tree-node',\n    };\n    if (props.focusable) {\n      domProps.tabIndex = '0';\n      domProps.onKeyDown = this.onKeyDown;\n    }\n    const getTreeNodesStates = () => {\n      this.treeNodesStates = {};\n      loopAllChildren(props.children, (item, index, pos, keyOrPos, siblingPosition) => {\n        this.treeNodesStates[pos] = {\n          siblingPosition,\n        };\n      });\n    };\n    if (props.showLine && !props.checkable) {\n      getTreeNodesStates();\n    }\n    if (props.checkable && (this.checkedKeysChange || props.loadData)) {\n      if (props.checkStrictly) {\n        getTreeNodesStates();\n      } else if (props._treeNodesStates) {\n        this.treeNodesStates = props._treeNodesStates.treeNodesStates;\n        this.halfCheckedKeys = props._treeNodesStates.halfCheckedKeys;\n        this.checkedKeys = props._treeNodesStates.checkedKeys;\n      } else {\n        const checkedKeys = this.state.checkedKeys;\n        let checkKeys;\n        if (!props.loadData && this.checkKeys && this._checkedKeys &&\n          arraysEqual(this._checkedKeys, checkedKeys)) {\n          // if checkedKeys the same as _checkedKeys from onCheck, use _checkedKeys.\n          checkKeys = this.checkKeys;\n        } else {\n          const checkedPositions = [];\n          this.treeNodesStates = {};\n          loopAllChildren(props.children, (item, index, pos, keyOrPos, siblingPosition) => {\n            this.treeNodesStates[pos] = {\n              node: item,\n              key: keyOrPos,\n              checked: false,\n              halfChecked: false,\n              siblingPosition,\n            };\n            if (checkedKeys.indexOf(keyOrPos) !== -1) {\n              this.treeNodesStates[pos].checked = true;\n              checkedPositions.push(pos);\n            }\n          });\n          // if the parent node's key exists, it all children node will be checked\n          handleCheckState(this.treeNodesStates, filterParentPosition(checkedPositions), true);\n          checkKeys = getCheck(this.treeNodesStates);\n        }\n        this.halfCheckedKeys = checkKeys.halfCheckedKeys;\n        this.checkedKeys = checkKeys.checkedKeys;\n      }\n    }\n    // console.log(\"render\",props.children,this.state)\n\n    return (\n      <ul {...domProps} unselectable ref=\"tree\">\n        {React.Children.map(props.children, this.renderTreeNode, this)}\n      </ul>\n    );\n  }\n}\n//\n// Tree.propTypes = {\n//   prefixCls: PropTypes.string,\n//   children: PropTypes.any,\n//   showLine: PropTypes.bool,\n//   showIcon: PropTypes.bool,\n//   selectable: PropTypes.bool,\n//   multiple: PropTypes.bool,\n//   checkable: PropTypes.oneOfType([\n//     PropTypes.bool,\n//     PropTypes.node,\n//   ]),\n//   _treeNodesStates: PropTypes.object,\n//   checkStrictly: PropTypes.bool,\n//   draggable: PropTypes.bool,\n//   autoExpandParent: PropTypes.bool,\n//   defaultExpandAll: PropTypes.bool,\n//   defaultExpandedKeys: PropTypes.arrayOf(PropTypes.string),\n//   expandedKeys: PropTypes.arrayOf(PropTypes.string),\n//   defaultCheckedKeys: PropTypes.arrayOf(PropTypes.string),\n//   checkedKeys: PropTypes.oneOfType([\n//     PropTypes.arrayOf(PropTypes.string),\n//     PropTypes.object,\n//   ]),\n//   defaultSelectedKeys: PropTypes.arrayOf(PropTypes.string),\n//   selectedKeys: PropTypes.arrayOf(PropTypes.string),\n//   onExpand: PropTypes.func,\n//   onCheck: PropTypes.func,\n//   onSelect: PropTypes.func,\n//   loadData: PropTypes.func,\n//   onMouseEnter: PropTypes.func,\n//   onMouseLeave: PropTypes.func,\n//   onRightClick: PropTypes.func,\n//   onDragStart: PropTypes.func,\n//   onDragEnter: PropTypes.func,\n//   onDragOver: PropTypes.func,\n//   onDragLeave: PropTypes.func,\n//   onDrop: PropTypes.func,\n//   onDragEnd: PropTypes.func,\n//   filterTreeNode: PropTypes.func,\n//   openTransitionName: PropTypes.string,\n//   openAnimation: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n// };\n\nTree.defaultProps = {\n  prefixCls: 'rc-tree',\n  showLine: false,\n  showIcon: true,\n  selectable: true,\n  multiple: false,\n  checkable: false,\n  checkStrictly: false,\n  draggable: false,\n  autoExpandParent: true,\n  defaultExpandAll: false,\n  defaultExpandedKeys: [],\n  defaultCheckedKeys: [],\n  defaultSelectedKeys: [],\n  onExpand: noop,\n  onCheck: noop,\n  onSelect: noop,\n  onDragStart: noop,\n  onDragEnter: noop,\n  onDragOver: noop,\n  onDragLeave: noop,\n  onDrop: noop,\n  onDragEnd: noop,\n};\n\nexport default Tree;\n\n\n\n// WEBPACK FOOTER //\n// ./src/render/rc-tree/Tree.js","import React, { PropTypes } from 'react';\nimport assign from 'object-assign';\nimport classNames from 'classnames';\n// import Animate from 'rc-animate';\nimport { browser } from './util';\n\nconst browserUa = typeof window !== 'undefined' ? browser(window.navigator) : '';\nconst ieOrEdge = /.*(IE|Edge).+/.test(browserUa);\n// const uaArray = browserUa.split(' ');\n// const gtIE8 = uaArray.length !== 2 || uaArray[0].indexOf('IE') === -1 || Number(uaArray[1]) > 8;\n\nconst defaultTitle = '---';\n\nfunction equal(a,b){\n  const len = a.length\n  if(len!=b.length) return false\n  for(let i = 0; i < len; i++){\n    if(a[i]!=b[i]) return false\n  }\n  return true\n}\n\nclass TreeNode extends React.Component {\n  constructor(props) {\n    super(props);\n    [\n      'onExpand',\n      'onCheck',\n      'onContextMenu',\n      'onMouseEnter',\n      'onMouseLeave',\n      'onDragStart',\n      'onDragEnter',\n      'onDragOver',\n      'onDragLeave',\n      'onDrop',\n      'onDragEnd',\n    ].forEach((m) => {\n      this[m] = this[m].bind(this);\n    });\n    this.state = {\n      dataLoading: false,\n      dragNodeHighlight: false,\n    };\n    this.refChildren = []\n  }\n\n  componentDidMount() {\n    if (!this.props.root._treeNodeInstances) {\n      this.props.root._treeNodeInstances = [];\n    }\n    this.props.root._treeNodeInstances.push(this);\n\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if(window.expandKey){\n      if(window.expandKey.startsWith(this.props.k)){\n        return true\n      }\n    }\n    // if(this.props.expanded) return true\n    const ret = !(\n      // this.props.childrenUpdate === nextProps.childrenUpdate &&\n      this.props.expanded === nextProps.expanded &&\n        this.props.title === nextProps.title &&\n        this.props.selected === nextProps.selected &&\n      this.props.prefixCls === nextProps.prefixCls &&\n      this.props.disabled === nextProps.disabled &&\n      this.props.dragOver === nextProps.dragOver &&\n      this.props.dragOverGapTop === nextProps.dragOverGapTop &&\n      this.props.dragOverGapBottom === nextProps.dragOverGapBottom &&\n      this.state.dataLoading === nextState.dataLoading &&\n      this.state.dragNodeHighlight === nextState.dragNodeHighlight &&\n        equal(this.refChildren,nextProps.refChildren)\n    )\n    // console.log(this.props.k,this.refChildren,nextProps.refChildren,this.props.root)\n    // console.log(this.props.expanded === nextProps.expanded , this.props.title === nextProps.title , this.props.selected === nextProps.selected , this.props.prefixCls === nextProps.prefixCls , this.props.disabled === nextProps.disabled , this.props.dragOver === nextProps.dragOver , this.props.dragOverGapTop === nextProps.dragOverGapTop , this.props.dragOverGapBottom === nextProps.dragOverGapBottom , this.state.dataLoading === nextState.dataLoading , this.state.dragNodeHighlight === nextState.dragNodeHighlight , equal(this.refChildren,nextProps.refChildren))\n    if(ret) {\n      // this.expanded = nextProps.expanded\n      // this.title = nextProps.title\n      this.refChildren = nextProps.refChildren.slice(0)\n    }\n\n    return ret\n  }\n\n  onCheck() {\n    this.props.root.onCheck(this);\n  }\n\n  onSelect() {\n    this.props.root.onSelect(this);\n  }\n\n  onMouseEnter(e) {\n    e.preventDefault();\n    this.props.root.onMouseEnter(e, this);\n  }\n\n  onMouseLeave(e) {\n    e.preventDefault();\n    this.props.root.onMouseLeave(e, this);\n  }\n\n  onContextMenu(e) {\n    e.preventDefault();\n    this.props.root.onContextMenu(e, this);\n  }\n\n  createDragImage(e,num){\n    const canvas = document.createElement('canvas')\n    canvas.className = 'drag-image'\n    document.body.appendChild(canvas)\n    const context = canvas.getContext('2d')\n\n    canvas.width = 85\n    canvas.height = 20\n\n    context.fillStyle = '#666666'\n    context.fillRect(0, 0, canvas.width, canvas.height)\n\n    context.fillStyle = '#dddddd'\n    context.font = 'bold 13px Arial'\n    context.fillText(`${num} Items`, 15, 15)\n\n    e.dataTransfer.setDragImage(canvas, 5, 9)\n    return canvas\n  }\n\n  onDragStart(e) {\n    // console.log('dragstart', this.props.eventKey, e);\n    // e.preventDefault();\n    e.stopPropagation();\n    this.setState({\n      dragNodeHighlight: true,\n    });\n    const len = this.props.root.state.selectedKeys.length\n    if(len > 1){\n      const canvas = this.createDragImage(e,len)\n      this.dragImage = canvas\n    }\n    this.props.root.onDragStart(e, this);\n    try {\n      // ie throw error\n      // firefox-need-it\n      e.dataTransfer.setData('text/plain', '');\n    } catch (error) {\n      // empty\n    }\n  }\n\n  onDragEnter(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    this.props.root.onDragEnter(e, this);\n  }\n\n  onDragOver(e) {\n    // todo disabled\n    e.preventDefault();\n    e.stopPropagation();\n    this.props.root.onDragOver(e, this);\n    return false;\n  }\n\n  onDragLeave(e) {\n    e.stopPropagation();\n    this.props.root.onDragLeave(e, this);\n  }\n\n  onDrop(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    this.setState({\n      dragNodeHighlight: false,\n    });\n    this.props.root.onDrop(e, this);\n  }\n\n  onDragEnd(e) {\n    e.stopPropagation();\n    this.setState({\n      dragNodeHighlight: false,\n    });\n    this.props.root.onDragEnd(e, this);\n    if(this.dragImage){\n      document.body.removeChild(this.dragImage)\n      this.dragImage = (void 0)\n    }\n  }\n\n  onExpand() {\n    const callbackPromise = this.props.root.onExpand(this);\n    if (callbackPromise && typeof callbackPromise === 'object') {\n      const setLoading = (dataLoading) => {\n        this.setState({ dataLoading });\n      };\n      setLoading(true);\n      callbackPromise.then(() => {\n        setLoading(false);\n      }, () => {\n        setLoading(false);\n      });\n    }\n  }\n\n  // keyboard event support\n  onKeyDown(e) {\n    // e.preventDefault();\n  }\n\n  renderSwitcher(props, expandedState) {\n    const prefixCls = props.prefixCls;\n    const switcherCls = {\n      [`${prefixCls}-switcher`]: true,\n    };\n    if (!props.showLine) {\n      switcherCls[`${prefixCls}-noline_${expandedState}`] = true;\n    } else if (props.pos === '0-0') {\n      switcherCls[`${prefixCls}-roots_${expandedState}`] = true;\n    } else {\n      switcherCls[`${prefixCls}-center_${expandedState}`] = !props.last;\n      switcherCls[`${prefixCls}-bottom_${expandedState}`] = props.last;\n    }\n    if (props.disabled) {\n      switcherCls[`${prefixCls}-switcher-disabled`] = true;\n      return <span className={classNames(switcherCls)}></span>;\n    }\n    switch(classNames(switcherCls)){\n      case 'rc-tree-switcher rc-tree-noline_close' :\n        return <i className=\"fa fa-caret-right caret\" aria-hidden=\"true\" onClick={this.onExpand}></i>\n      case 'rc-tree-switcher rc-tree-noline_open' :\n        return <i className=\"fa fa-caret-down caret\" aria-hidden=\"true\" onClick={this.onExpand}></i>\n    }\n    // return <span className={classNames(switcherCls)} onClick={this.onExpand}></span>;\n  }\n\n  renderCheckbox(props) {\n    const prefixCls = props.prefixCls;\n    const checkboxCls = {\n      [`${prefixCls}-checkbox`]: true,\n    };\n    if (props.checked) {\n      checkboxCls[`${prefixCls}-checkbox-checked`] = true;\n    } else if (props.halfChecked) {\n      checkboxCls[`${prefixCls}-checkbox-indeterminate`] = true;\n    }\n    let customEle = null;\n    if (typeof props.checkable !== 'boolean') {\n      customEle = props.checkable;\n    }\n    if (props.disabled || props.disableCheckbox) {\n      checkboxCls[`${prefixCls}-checkbox-disabled`] = true;\n      return <span ref=\"checkbox\" className={classNames(checkboxCls)}>{customEle}</span>;\n    }\n    return (\n      <span ref=\"checkbox\"\n        className={classNames(checkboxCls) }\n        onClick={this.onCheck}\n      >{customEle}</span>);\n  }\n\n  renderChildren(props) {\n    const renderFirst = this.renderFirst;\n    this.renderFirst = 1;\n    let transitionAppear = true;\n    if (!renderFirst && props.expanded) {\n      transitionAppear = false;\n    }\n    const children = props.children;\n    let newChildren = children;\n    if (children &&\n      (children.type === TreeNode ||\n      Array.isArray(children) &&\n      children.every((item) => {\n        return item.type === TreeNode;\n      }))) {\n      const cls = {\n        [`${props.prefixCls}-child-tree`]: true,\n        [`${props.prefixCls}-child-tree-open`]: props.expanded,\n      };\n      if (props.showLine) {\n        cls[`${props.prefixCls}-line`] = !props.last;\n      }\n      const animProps = {};\n      if (props.openTransitionName) {\n        animProps.transitionName = props.openTransitionName;\n      } else if (typeof props.openAnimation === 'object') {\n        animProps.animation = assign({}, props.openAnimation);\n        if (!transitionAppear) {\n          delete animProps.animation.appear;\n        }\n      }\n      newChildren = (\n        <div {...animProps}\n          showProp=\"data-expanded\"\n          transitionAppear={transitionAppear}\n          component=\"\"\n        >\n          {!props.expanded ? null : <ul className={classNames(cls)} data-expanded={props.expanded}>\n            {React.Children.map(children, (item, index) => {\n              return props.root.renderTreeNode(item, index, props.pos);\n            }, props.root)}\n          </ul>}\n        </div>\n      );\n    }\n    return newChildren;\n  }\n\n  render() {\n    const props = this.props;\n    const prefixCls = props.prefixCls;\n    const expandedState = props.expanded ? 'open' : 'close';\n    let iconState = expandedState;\n\n    let canRenderSwitcher = true;\n    const content = props.title;\n    let newChildren = this.renderChildren(props);\n    if (!newChildren || newChildren === props.children) {\n      // content = newChildren;\n      newChildren = null;\n      if (!props.loadData || props.isLeaf) {\n        canRenderSwitcher = false;\n        iconState = 'docu';\n      }\n    }\n    // For performance, does't render children into dom when `!props.expanded` (move to Animate)\n    // if (!props.expanded) {\n    //   newChildren = null;\n    // }\n\n    const iconEleCls = {\n      [`${prefixCls}-iconEle`]: true,\n      [`${prefixCls}-icon_loading`]: this.state.dataLoading,\n      [`${prefixCls}-icon__${iconState}`]: true,\n    };\n\n    const selectHandle = () => {\n      let icon = null;\n      switch(classNames(iconEleCls)){\n        case 'rc-tree-iconEle rc-tree-icon__close':\n          icon = <i className=\"fa fa-folder folder\" aria-hidden=\"true\"></i>\n          break\n        case 'rc-tree-iconEle rc-tree-icon__open':\n          icon = <i className=\"fa fa-folder-open folder-open\" aria-hidden=\"true\"></i>\n          break\n        case 'rc-tree-iconEle rc-tree-icon__docu':\n          icon = this.props.favicon ? <img src={this.props.favicon} className=\"favi-favorite\"/> : <i className=\"fa fa-file doc\" aria-hidden=\"true\"></i>\n          break\n        default:\n          <span className={classNames(iconEleCls)}></span>\n\n      }\n\n      const title = <span className={`${prefixCls}-title`}>{content}</span>;\n      const wrap = `${prefixCls}-node-content-wrapper`;\n      const domProps = {\n        className: `${wrap} ${wrap}-${iconState === expandedState ? iconState : 'normal'}`,\n      };\n      if (!props.disabled) {\n        // console.log(33533,props.selected,!props._dropTrigger,this.state.dragNodeHighlight)\n        if (props.selected || !props._dropTrigger && this.state.dragNodeHighlight) {\n          domProps.className += ` ${prefixCls}-node-selected`;\n        }\n        domProps.onClick = (e) => {\n          e.preventDefault();\n          if (props.selectable) {\n            this.onSelect();\n          }\n          // not fire check event\n          // if (props.checkable) {\n          //   this.onCheck();\n          // }\n        };\n        if (props.onRightClick) {\n          domProps.onContextMenu = this.onContextMenu;\n        }\n        if (props.onMouseEnter) {\n          domProps.onMouseEnter = this.onMouseEnter;\n        }\n        if (props.onMouseLeave) {\n          domProps.onMouseLeave = this.onMouseLeave;\n        }\n        if (props.draggable) {\n          domProps.className += ' draggable target';\n          if (ieOrEdge) {\n            // ie bug!\n            domProps.href = '#';\n          }\n          domProps.draggable = true;\n          domProps['aria-grabbed'] = true;\n          domProps.onDragStart = this.onDragStart;\n        }\n      }\n      domProps.onMouseDown = this.props.onMouseDown\n      // console.log(456,domProps)\n      return (\n        <a ref=\"selectHandle\" title={typeof content === 'string' ? content : ''} {...domProps}>\n          {icon}{title}\n        </a>\n      );\n    };\n\n    const liProps = {};\n    if (props.draggable) {\n      liProps.onDragEnter = this.onDragEnter;\n      liProps.onDragOver = this.onDragOver;\n      liProps.onDragLeave = this.onDragLeave;\n      liProps.onDrop = this.onDrop;\n      liProps.onDragEnd = this.onDragEnd;\n    }\n\n    let disabledCls = '';\n    let dragOverCls = '';\n    if (props.disabled) {\n      disabledCls = `${prefixCls}-treenode-disabled`;\n    } else if (props.dragOver) {\n      dragOverCls = 'drag-over';\n    } else if (props.dragOverGapTop) {\n      dragOverCls = 'drag-over-gap-top';\n    } else if (props.dragOverGapBottom) {\n      dragOverCls = 'drag-over-gap-bottom';\n    }\n\n    const filterCls = props.filterTreeNode(this) ? 'filter-node' : '';\n\n    const noopSwitcher = () => {\n      const cls = {\n        [`${prefixCls}-switcher`]: true,\n        [`${prefixCls}-switcher-noop`]: true,\n      };\n      if (props.showLine) {\n        cls[`${prefixCls}-center_docu`] = !props.last;\n        cls[`${prefixCls}-bottom_docu`] = props.last;\n      } else {\n        cls[`${prefixCls}-noline_docu`] = true;\n      }\n      return <span className={classNames(cls)}></span>;\n    };\n    const elem = (\n      <li {...liProps} ref=\"li\"\n          className={classNames(props.className, disabledCls, dragOverCls, filterCls) }\n      >\n        {canRenderSwitcher ? this.renderSwitcher(props, expandedState) : noopSwitcher()}\n        {/*{props.checkable ? this.renderCheckbox(props) : null}*/}\n        {selectHandle()}\n        {newChildren}\n      </li>\n    );\n    return elem\n  }\n}\n\nTreeNode.isTreeNode = 1;\n\nTreeNode.propTypes = {\n  prefixCls: PropTypes.string,\n  disabled: PropTypes.bool,\n  disableCheckbox: PropTypes.bool,\n  expanded: PropTypes.bool,\n  isLeaf: PropTypes.bool,\n  root: PropTypes.object,\n  onSelect: PropTypes.func,\n};\n\nTreeNode.defaultProps = {\n  title: defaultTitle,\n};\n\nexport default TreeNode;\n\n\n\n// WEBPACK FOOTER //\n// ./src/render/rc-tree/TreeNode.js","import Tree from './Tree';\nimport TreeNode from './TreeNode';\nTree.TreeNode = TreeNode;\n\nexport default Tree;\n\n\n\n// WEBPACK FOOTER //\n// ./src/render/rc-tree/index.js","import React, {PropTypes} from 'react'\nimport {findDOMNode} from 'react-dom'\nimport toggleClass from './toggle-class'\nimport LimitRange from './limit-range'\n\nconst topLeftLimitRange = new LimitRange('top-left')\nconst topRightLimitRange = new LimitRange('top-right')\nconst downRightLimitRange = new LimitRange('down-right')\nconst downLeftLimitRange = new LimitRange('down-left')\n\nclass Selection extends React.Component {\n  static propTypes = {\n    target: PropTypes.string.isRequired,\n    selectedClass: PropTypes.string,\n    afterSelect: PropTypes.func,\n    isLimit: PropTypes.bool,\n  }\n\n  static defaultProps = {\n    target: '.react-selection-target',\n    selectedClass: 'react-selection-selected',\n    isLimit: false,\n    afterSelect() {\n\n    }\n  }\n\n  state = {\n    rectangleStyle: {\n      left: 0,\n      top: 0,\n      width: 0,\n      height: 0,\n      opacity: 0,\n    }\n  }\n  \n  componentDidMount() {\n    this._box = findDOMNode(this)\n  }\n\n  mousedown = (ev)=> {\n    console.log(ev.srcElement.tagName,ev)\n    if(ev.srcElement.tagName != \"LI\" && ev.srcElement.tagName != \"UL\" && ev.srcElement.tagName != \"DIV\") return\n\n    const targetSelect = this.props.target\n    this.targets = Array.from(this._box.querySelectorAll(targetSelect))\n    this.ctrlKey = (ev.ctrlKey || ev.metaKey)\n\n    if (this.ctrlKey) {\n      window.addEventListener('keyup', this.keyup, false)\n    } else {\n      this.props.clearSelect()\n    }\n\n    this.clickY = ev.pageY - ev.currentTarget.offsetTop\n    this.clickX = ev.pageX - ev.currentTarget.offsetLeft\n\n    document.addEventListener('mousemove', this.mousemove, false)\n    document.addEventListener('mouseup', this.mouseup, false)\n  }\n\n  afterSelect = ()=> {\n    const {afterSelect, selectedClass} = this.props\n    afterSelect(this.targets.filter(t => t.classList.contains(selectedClass)))\n  }\n\n  keyup = (ev) =>{\n    if (!this.ctrlKey) return\n    this.afterSelect()\n    window.removeEventListener('keyup', this.keyup)\n  }\n\n  mouseup = (ev)=> {\n    const {isLimit} = this.props\n\n    this.state.rectangleStyle = {\n      ...this.state.rectangleStyle,\n      opacity: 0,\n    }\n    const dom = ReactDOM.findDOMNode(this.refs.rect)\n    dom.style.left = `${this.state.rectangleStyle.left}px`\n    dom.style.top = `${this.state.rectangleStyle.top}px`\n    dom.style.width = `${this.state.rectangleStyle.width}px`\n    dom.style.height = `${this.state.rectangleStyle.height}px`\n    dom.style.opacity = this.state.rectangleStyle.opacity\n\n    document.removeEventListener('mousemove', this.mousemove)\n    document.removeEventListener('mouseup', this.mouseup)\n\n    if (this.ctrlKey) {\n      this.targets.forEach((t)=> t.removeAttribute('data-is-double'))\n    } else {\n      this.afterSelect()\n    }\n\n    if (isLimit) {\n      topLeftLimitRange.reset()\n      topRightLimitRange.reset()\n      downRightLimitRange.reset()\n      downLeftLimitRange.reset()\n    }\n  }\n\n  mousemove = (ev)=> {\n    const moveX = (ev.pageX - this._box.offsetLeft) - this.clickX\n    const moveY = (ev.pageY - this._box.offsetTop) - this.clickY\n    const {isLimit} = this.props\n\n    let rectangleSize = {}\n\n    if (moveX < 0 && moveY < 0) { // top-left\n      rectangleSize = {\n        left: this.clickX + moveX,\n        top: this.clickY + moveY,\n        width: moveX * -1,\n        height: moveY * -1,\n      }\n\n      if (isLimit) {\n        rectangleSize = topLeftLimitRange.getNewSize({\n          rectangle: rectangleSize,\n          container: this._box,\n        })\n      }\n    } else if (moveX > 0 && moveY > 0) { // down-right\n      rectangleSize = {\n        left: this.clickX,\n        top: this.clickY,\n        width: moveX,\n        height: moveY,\n      }\n\n      if (isLimit) {\n        rectangleSize = downRightLimitRange.getNewSize({\n          rectangle: rectangleSize,\n          container: this._box,\n        })\n      }\n    } else if (moveX > 0 && moveY < 0) { // top-right\n      rectangleSize = {\n        left: this.clickX,\n        top: this.clickY + moveY,\n        width: moveX,\n        height: moveY * -1,\n      }\n\n      if (isLimit) {\n        rectangleSize = topRightLimitRange.getNewSize({\n          rectangle: rectangleSize,\n          container: this._box,\n        })\n      }\n    } else if (moveX < 0 && moveY > 0) { // down-left\n      rectangleSize = {\n        left: this.clickX + moveX,\n        top: this.clickY,\n        width: moveX * -1,\n        height: moveY,\n      }\n\n      if (isLimit) {\n        rectangleSize = downLeftLimitRange.getNewSize({\n          rectangle: rectangleSize,\n          container: this._box,\n        })\n      }\n    }\n\n    this.state.rectangleStyle = {\n      ...rectangleSize,\n      opacity: 1,\n    }\n\n    const dom = ReactDOM.findDOMNode(this.refs.rect)\n    dom.style.left = `${this.state.rectangleStyle.left}px`\n    dom.style.top = `${this.state.rectangleStyle.top}px`\n    dom.style.width = `${this.state.rectangleStyle.width}px`\n    dom.style.height = `${this.state.rectangleStyle.height}px`\n    dom.style.opacity = this.state.rectangleStyle.opacity\n\n    this.targets.forEach((target)=> {\n      const {selectedClass} = this.props\n      const tar = {\n        x: target.offsetLeft,\n        y: target.offsetTop,\n        xx: target.offsetLeft + target.offsetWidth,\n        yy: target.offsetTop + target.offsetHeight,\n      }\n\n      const square = {\n        x: rectangleSize.left,\n        y: rectangleSize.top,\n        xx: rectangleSize.left + rectangleSize.width,\n        yy: rectangleSize.top + rectangleSize.height,\n      }\n\n      const isDouble = Math.max(tar.x, square.x) <= Math.min(tar.xx, square.xx) &&\n        Math.max(tar.y, square.y) <= Math.min(tar.yy, square.yy)\n\n      const hasDataDouble = target.dataset.isDouble === 'true' ? true : false\n\n      if (this.ctrlKey) {\n        if (isDouble !== hasDataDouble) {\n          toggleClass(target, selectedClass)\n          target.dataset.isDouble = isDouble\n        }\n      } else {\n        toggleClass(target, isDouble, selectedClass)\n      }\n    })\n  }\n\n  // shouldComponentUpdate({target, selectedClass, isLimit},\n  //   {rectangleStyle: {left, top, width, height, opacity}}) {\n  //\n  //   const {props, state: {rectangleStyle}} = this\n  //\n  //   return target !== props.target ||\n  //       selectedClass !== props.selectedClass ||\n  //       isLimit !== props.isLimit ||\n  //       left !== rectangleStyle.left ||\n  //       top !== rectangleStyle.top ||\n  //       width !== rectangleStyle.width ||\n  //       height !== rectangleStyle.height ||\n  //       opacity !== rectangleStyle.opacity\n  // }\n\n  render() {\n    const {children, target, ...props} = this.props\n    return (\n      <div {...props} className=\"react-selection\" onMouseDown={this.mousedown}>\n        {children}\n        <div ref=\"rect\" className=\"react-selection-rectangle\"/>\n      </div>\n    )\n  }\n}\n\nmodule.exports = Selection\n\n\n\n// WEBPACK FOOTER //\n// ./src/render/react-selection/index.js","\n/**\n *\n * @param rectangle\n * @param container\n * @param direction top-left, top-right, down-right, down-left\n */\nclass LimitRange {\n  constructor(direction = '') {\n    this.direction = direction\n  }\n\n  freezeWidth = false\n  freezeHeight = false\n\n  getNewSize({rectangle, container}) {\n    const {left, top, width, height} = rectangle\n    const {offsetWidth, offsetHeight} = container\n    const size = {...rectangle}\n\n    const maxWidth = offsetWidth - left\n    const maxHeight = offsetHeight - top\n\n    switch (this.direction) {\n      case 'top-left':\n        if (left <= 0) {\n          if (!this.freezeWidth) this.freezeWidth = width + left\n          size.left = 0\n          size.width = this.freezeWidth\n        }\n\n        if (top <= 0) {\n          if (!this.freezeHeight) this.freezeHeight = height + top\n          size.top = 0\n          size.height = this.freezeHeight\n        }\n        break\n\n      case 'top-right':\n        if (maxWidth - width <= 0){\n          if (!this.freezeWidth) this.freezeWidth = maxWidth\n          size.width = this.freezeWidth\n        }\n\n        if (top <= 0){\n          size.top = 0\n          if (!this.freezeHeight) this.freezeHeight = height\n          size.height = this.freezeHeight\n        }\n        break\n\n      case 'down-right':\n        if (maxWidth - width <= 0){\n          if (!this.freezeWidth) this.freezeWidth = maxWidth\n          size.width = this.freezeWidth\n        }\n\n        if (maxHeight - height <= 0){\n          if (!this.freezeHeight) this.freezeHeight = maxHeight\n          size.height = this.freezeHeight\n        }\n        break\n\n      case 'down-left':\n        if (maxHeight - height <= 0){\n          if (!this.freezeHeight) this.freezeHeight = maxHeight\n          size.height = this.freezeHeight\n        }\n        if (left <= 0){\n          if (!this.freezeWidth) this.freezeWidth = width + left\n          size.left = 0\n          size.width = this.freezeWidth\n        }\n\n        break\n    }\n    return size\n  }\n\n  reset() {\n    this.freezeWidth = false\n    this.freezeHeight = false\n\n    return this\n  }\n}\n\nmodule.exports = LimitRange\n\n\n\n// WEBPACK FOOTER //\n// ./src/render/react-selection/limit-range.js","const toggleClass = function(el, condition, className) {\n  let toggle = condition ? 'add' : 'remove'\n\n  if (typeof condition === 'string' && arguments.length === 2) {\n    className = condition\n    toggle = el.classList.contains(className) ? 'remove' : 'add'\n  }\n\n  el.classList[toggle](className)\n\n  return el\n}\n\nmodule.exports = toggleClass\n\n\n\n// WEBPACK FOOTER //\n// ./src/render/react-selection/toggle-class.js","window.debug = require('debug')('info')\n// require('debug').enable(\"info\")\nimport process from './process'\nconst React = require('react')\nconst ReactDOM = require('react-dom')\nconst {FileExplorer,getHome} = require('./explorer')\nconst path = require('path')\n\n;(async ()=>{\n  const homePath = await getHome()\n\n  ReactDOM.render(<FileExplorer items={[{\n    name: path.basename(homePath),\n    path: homePath,\n    type: 'directory',\n    expanded: true,\n    children: []\n  }]} sidebar={true}  />,  document.querySelector('.l-content .explorer'))\n\n})()\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/toolPages/explorerSidebar.js","/**\n * Helpers.\n */\n\nvar s = 1000\nvar m = s * 60\nvar h = m * 60\nvar d = h * 24\nvar y = d * 365.25\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function (val, options) {\n  options = options || {}\n  var type = typeof val\n  if (type === 'string' && val.length > 0) {\n    return parse(val)\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ?\n\t\t\tfmtLong(val) :\n\t\t\tfmtShort(val)\n  }\n  throw new Error('val is not a non-empty string or a valid number. val=' + JSON.stringify(val))\n}\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str)\n  if (str.length > 10000) {\n    return\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str)\n  if (!match) {\n    return\n  }\n  var n = parseFloat(match[1])\n  var type = (match[2] || 'ms').toLowerCase()\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n\n    default:\n      return undefined\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd'\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h'\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm'\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's'\n  }\n  return ms + 'ms'\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms'\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's'\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/debug/~/ms/index.js\n// module id = 16\n// module chunks = 0","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  return debug;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/debug/src/debug.js\n// module id = 17\n// module chunks = 0","module.exports = (__webpack_require__(1))(976);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/node-uuid/uuid.js from dll-reference vendor_library\n// module id = 18\n// module chunks = 0","module.exports = (__webpack_require__(1))(981);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/react-sticky/lib/index.js from dll-reference vendor_library\n// module id = 19\n// module chunks = 0","module.exports = (__webpack_require__(1))(983);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/semantic-ui-react/dist/es/index.js from dll-reference vendor_library\n// module id = 20\n// module chunks = 0","module.exports = chrome;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"chrome\"\n// module id = 21\n// module chunks = 0"],"sourceRoot":""}